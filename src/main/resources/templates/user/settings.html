<!DOCTYPE html>
<html lang="en" th:replace="~{base :: parent(~{::#settings},~{::title},~{},~{})}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${loggedInUser?.name} + ' | Settings'">Settings</title>
    <link rel="stylesheet" th:href="@{'/css/output.css'}">
    <style>
        :root {
            --bg: #f7f8fa;
            --text: #6b7280;
            --card-bg: #ffffff;
            --card-border: #e5e7eb;
            --btn-bg: #26a69a;
            --btn-text: #ffffff;
            --link: #10b981;
        }
        [data-theme="dark"] {
            --bg: #1e293b;
            --text: #d1d5db;
            --card-bg: #2d3748;
            --card-border: #4b5563;
            --btn-bg: #26a69a;
            --btn-text: #ffffff;
            --link: #34d399;
        }
        body {
            background: var(--bg);
            color: var(--text);
        }
        a {
            color: var(--link);
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .settings-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .sidebar-item.active {
            background-color: var(--card-bg);
            color: var(--text);
        }
        @media (max-width: 640px) {
            .settings-container {
                padding: 0.5rem;
            }
            .input-field {
                font-size: 0.75rem;
            }
            .section-title {
                font-size: 1rem;
            }
            .save-btn {
                font-size: 0.75rem;
                padding: 0.5rem 1rem;
            }
        }
    </style>
</head>
<body>
    <div id="settings" class="sm:ml-64">
        <!-- Hamburger Menu for Mobile -->
        <button id="sidebar-toggle" class="sm:hidden p-2 fixed top-4 left-4 z-50 bg-gray-200 dark:bg-gray-700 rounded-md" aria-label="Open sidebar">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
        </button>

        <div class="settings-container px-2 pt-8 sm:pt-4">
            <h1 class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-gray-100 mb-3">Settings</h1>
            <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">Manage your account preferences and privacy</p>

            <!-- Layout Adjustment: Narrow Sidebar and Wider Main Content -->
            <div class="flex flex-col sm:flex-row gap-4">
                <!-- Sidebar: Reduced width to match screenshot -->
                <nav class=" sm:w-20 md:w-30 lg:w-40 xl:w-50 bg-gray-50 dark:bg-gray-800 p-2 rounded-lg">
                    <ul class="space-y-1 font-medium">
                        <li>
                            <a href="#" class="sidebar-item active flex items-center p-2 text-gray-900 dark:text-white rounded-lg bg-gray-100 dark:bg-gray-700">
                                <svg class="w-5 h-5 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M12 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4h-4Z" clip-rule="evenodd"/>
                                </svg>
                                <span class="ms-2 text-xs">Account</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-item flex items-center p-2 text-gray-900 dark:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                                <svg class="w-5 h-5 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M12 2a3 3 0 0 0-2.122.879l-.08.087a3 3 0 0 0-.642 1.987L9 5.75h-.01a1 1 0 0 1-.888.54L8 6.25a3 3 0 0 0-2.786 1.913l-.034.08a3 3 0 0 0-.351 1.59l.01.215a1 1 0 0 1-.611.929l-.102.038a3 3 0 0 0-1.987.642l-.087.08a3 3 0 0 0-.878 2.122v.257a1 1 0 0 1-.54.888l-.05.025a3 3 0 0 0-1.913 2.786l-.008.09a3 3 0 0 0 .351 1.59l.04.092a1 1 0 0 1-.012 1.058l-.042.06a3 3 0 0 0-.503 2.042l.033.107a3 3 0 0 0 1.17 1.66l.087.067a1 1 0 0 1 .44.825l-.002.053a3 3 0 0 0 1.914 2.785l.08.034a3 3 0 0 0 1.59.351l.215-.01a1 1 0 0 1 .929.611l.038.102a3 3 0 0 0 .642 1.987l.08.087a3 3 0 0 0 2.122.878h.256a1 1 0 0 1 .888-.54l.05-.025a3 3 0 0 0 2.786-1.913l.034-.80a3 3 0 0 0 .351-1.59l-.01-.215a1 1 0 0 1 .611-.929l.102-.038a3 3 0 0 0 1.987-.642l.087-.08a3 3 0 0 0 .878-2.122v-.257a1 1 0 0 1 .54-.888l.05-.025a3 3 0 0 0 1.913-2.786l.008-.09a3 3 0 0 0-.351-1.59l-.04-.092a1 1 0 0 1 .012-1.058l.042-.60a3 3 0 0 0 .503-2.042l-.033-.107a3 3 0 0 0-1.17-1.66l-.087-.067a1 1 0 0 1-.44-.825l.002-.053a3 3 0 0 0-1.914-2.785l-.08-.034a3 3 0 0 0-1.59-.351l-.215.01a1 1 0 0 1-.929-.611l-.038-.102a3 3 0 0 0-.642-1.987l-.08-.087A3 3 0 0 0 12 2Zm-1 6a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2h-2Zm-1 5a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2h-4Zm-1 5a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2h-2Z" clip-rule="evenodd"/>
                                </svg>
                                <span class="ms-2 text-xs">Privacy</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-item flex items-center p-2 text-gray-900 dark:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                                <svg class="w-5 h-5 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M17.133 2.902a2 2 0 0 1 2.232.808l1.667 2.5a2 2 0 0 1 .268 1.595l-.755 3.773a1 1 0 0 1-.988.822h-1.516a1 1 0 0 1-.78-.375l-.79-.987-2.842 3.637a1 1 0 0 1-1.446.15l-3.25-2.5-2.642 2.113a1 1 0 0 1-1.382-.17l-.54-.607a1 1 0 0 1-.152-.74l.787-3.93-2.48-.992a1 1 0 0 1-.55-1.312l1.25-2.5 2.5-1.667a1 1 0 0 1 1.265.148l3.25 3.25 2.916-2.333a1 1 0 0 1 1.266.008l.82-.985a1 1 0 0 1 .777-.375h1.515l.667-3.333a2 2 0 0 1 .808-1.432Zm-8.782 9.98-1.085-.868a1 1 0 0 0-1.265-.148l-1.833 1.222.463 2.315 1.828-.731a1 1 0 0 0 .616-.853l-.2-1.002 1.476 1.66a1 1 0 0 0 1.382.17l1.834-1.467-2.219 1.703a1 1 0 0 0-.36.979l.363 1.813-.583.45a1 1 0 0 0-.15 1.446l2.25 1.732 1.47-1.882a1 1 0 0 0-.15-1.446l-1.834-1.467 1.085-.868a1 1 0 0 0 .36-.978l-.363-1.813.583-.45a1 1 0 0 0 .15-1.446l-.916-.705-1.47 1.882a1 1 0 0 0 .15 1.446Z" clip-rule="evenodd"/>
                                </svg>
                                <span class="ms-2 text-xs">Notifications</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-item flex items-center p-2 text-gray-900 dark:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                                <svg class="w-5 h-5 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M3 6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-6.616l-2.88 2.592C8.537 20.461 7 19.776 7 18.477V17H5a2 2 0 0 1-2-2V6Zm4 2a1 1 0 0 0 0 2h5a1 1 0 1 0 0-2H7Zm8 0a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2h-2Zm-8 3a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H7Zm5 0a1 1 0 1 0 0 2h5a1 1 0 1 0 0-2h-5Z" clip-rule="evenodd"/>
                                </svg>
                                <span class="ms-2 text-xs">Connections</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-item flex items-center p-2 text-gray-900 dark:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                                <svg class="w-5 h-5 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M12 2a3 3 0 0 0-3 3 1 1 0 0 1-1 1 3 3 0 0 0-3 3 1 1 0 0 1-1 1 3 3 0 0 0-3 3v6a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3 1 1 0 0 1 1-1 3 3 0 0 0 3-3 1 1 0 0 1 1-1 3 3 0 0 0 3-3 1 1 0 0 1 1-1 3 3 0 0 0 3-3 1 1 0 0 1-1-1Zm-5 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V9Zm-1 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2Zm7-7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V9Zm1 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2Z" clip-rule="evenodd"/>
                                </svg>
                                <span class="ms-2 text-xs">Help</span>
                            </a>
                        </li>
                    </ul>
                </nav>

                <!-- Main Settings Content: Adjusted spacing -->
                <div class="flex-1 space-y-4">
                    <!-- Account Settings -->
                    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm">
                        <h2 class="section-title text-base font-semibold text-gray-900 dark:text-white mb-3">Account Settings</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3">
                            <div>
                                <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">First Name</label>
                                <input type="text" value="Sarah" class="input-field w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white" readonly />
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Last Name</label>
                                <input type="text" value="Johnson" class="input-field w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white" readonly />
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Email Address</label>
                            <input type="email" value="sarah.johnson@example.com" class="input-field w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white" readonly />
                        </div>
                        <div class="mb-3">
                            <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">About</label>
                            <textarea class="input-field w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white" rows="2">I'm on a journey to better manage my Type 2 Diabetes and improve my overall health. Looking to connect with others who have similar experiences and healthcare professionals who can guide me.</textarea>
                        </div>
                        <button class="save-btn bg-teal-500 text-white px-3 py-1 rounded-lg hover:bg-teal-600 transition-colors text-sm">Save Changes</button>
                    </div>

                    <!-- Privacy Settings -->
                    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm">
                        <h2 class="section-title text-base font-semibold text-gray-900 dark:text-white mb-3">Privacy Settings</h2>
                        <div class="mb-3">
                            <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Profile Visibility</label>
                            <p class="text-xs text-gray-600 dark:text-gray-400 mb-1">Control who can see your profile information</p>
                            <select class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white">
                                <option>Everyone</option>
                                <option>Connections Only</option>
                                <option>Private</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Medical History Visibility</label>
                            <p class="text-xs text-gray-600 dark:text-gray-400 mb-1">Control who can see your medical information</p>
                            <select class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white">
                                <option>Healthcare Providers Only</option>
                                <option>Connections Only</option>
                                <option>Private</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Connection Requests</label>
                            <p class="text-xsfontname text-gray-600 dark:text-gray-400 mb-1">Control who can send you connection requests</p>
                            <select class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white">
                                <option>Everyone</option>
                                <option>Healthcare Providers Only</option>
                                <option>Disable Requests</option>
                            </select>
                        </div>
                        <button class="save-btn bg-teal-500 text-white px-3 py-1 rounded-lg hover:bg-teal-600 transition-colors text-sm">Save Privacy Settings</button>
                    </div>

                    <!-- Notification Preferences -->
                    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm">
                        <h2 class="section-title text-base font-semibold text-gray-900 dark:text-white mb-3">Notification Preferences</h2>
                        <div class="space-y-3">
                            <div>
                                <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Connection Requests</label>
                                <p class="text-xs text-gray-600 dark:text-gray-400 mb-1">When someone sends you a connection request</p>
                                <div class="flex space-x-3">
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-1">
                                        <span class="text-xs text-gray-700 dark:text-gray-300">Email</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-1">
                                        <span class="text-xs text-gray-700 dark:text-gray-300">In-app</span>
                                    </label>
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Messages</label>
                                <p class="text-xs text-gray-600 dark:text-gray-400 mb-1">When you receive a new message</p>
                                <div class="flex space-x-3">
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-1">
                                        <span class="text-xs text-gray-700 dark:text-gray-300">Email</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-1">
                                        <span class="text-xs text-gray-700 dark:text-gray-300">In-app</span>
                                    </label>
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Appointment Reminders</label>
                                <p class="text-xs text-gray-600 dark:text-gray-400 mb-1">Reminders about upcoming appointments</p>
                                <div class="flex space-x-3">
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-1">
                                        <span class="text-xs text-gray-700 dark:text-gray-300">Email</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-1">
                                        <span class="text-xs text-gray-700 dark:text-gray-300">In-app</span>
                                    </label>
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1">Health Milestones</label>
                                <p class="text-xs text-gray-600 dark:text-gray-400 mb-1">Notifications about your health goals and achievements</p>
                                <div class="flex space-x-3">
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-1">
                                        <span class="text-xs text-gray-700 dark:text-gray-300">Email</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="mr-1">
                                        <span class="text-xs text-gray-700 dark:text-gray-300">In-app</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <button class="save-btn bg-teal-500 text-white px-3 py-1 rounded-lg hover:bg-teal-600 transition-colors mt-3 text-sm">Save Notification Settings</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleTheme() {
            const html = document.documentElement;
            html.toggleAttribute('data-theme');
            localStorage.setItem('theme', html.hasAttribute('data-theme') ? 'dark' : 'light');
        }
        if (localStorage.getItem('theme') === 'dark') document.documentElement.setAttribute('data-theme', 'dark');

        document.getElementById('sidebar-toggle')?.addEventListener('click', () => {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('-translate-x-full');
        });

        document.getElementById('sidebar-close')?.addEventListener('click', () => {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.add('-translate-x-full');
        });

        // Sidebar navigation active state
        const sidebarItems = document.querySelectorAll('.sidebar-item');
        sidebarItems.forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                sidebarItems.forEach(i => i.classList.remove('active'));
                item.classList.add('active');
            });
        });
    </script>
</body>
</html>